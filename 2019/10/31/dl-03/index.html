<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.7.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: './public/search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="0. 摘要pandas是python中重要的统计分析库，之前通过MOOC简单地接触过一点，这次系统地学习了一下pandas库的用法。 本文介绍了pandas库的：  Series类、DataFrame类的创建、索引切片、数据的修改 一些实用的统计数学分析函数 从数据文件（csv&#x2F;excel）的读取DataFrame">
<meta property="og:type" content="article">
<meta property="og:title" content="Pandas使用方法备忘">
<meta property="og:url" content="http://yoursite.com/2019/10/31/dl-03/index.html">
<meta property="og:site_name" content="yerfor&#39;s Journey">
<meta property="og:description" content="0. 摘要pandas是python中重要的统计分析库，之前通过MOOC简单地接触过一点，这次系统地学习了一下pandas库的用法。 本文介绍了pandas库的：  Series类、DataFrame类的创建、索引切片、数据的修改 一些实用的统计数学分析函数 从数据文件（csv&#x2F;excel）的读取DataFrame">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2019/10/31/dl-03/01.png">
<meta property="og:image" content="http://yoursite.com/2019/10/31/dl-03/02.png">
<meta property="article:published_time" content="2019-10-31T09:10:42.000Z">
<meta property="article:modified_time" content="2020-02-06T06:47:50.000Z">
<meta property="article:author" content="Zhenhui Ye">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2019/10/31/dl-03/01.png">

<link rel="canonical" href="http://yoursite.com/2019/10/31/dl-03/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Pandas使用方法备忘 | yerfor's Journey</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">yerfor's Journey</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/31/dl-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/face.jpg">
      <meta itemprop="name" content="Zhenhui Ye">
      <meta itemprop="description" content="Be a superhero.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yerfor's Journey">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Pandas使用方法备忘
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-31 17:10:42" itemprop="dateCreated datePublished" datetime="2019-10-31T17:10:42+08:00">2019-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-06 14:47:50" itemprop="dateModified" datetime="2020-02-06T14:47:50+08:00">2020-02-06</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="0-摘要"><a href="#0-摘要" class="headerlink" title="0. 摘要"></a>0. 摘要</h1><p>pandas是python中重要的统计分析库，之前通过MOOC简单地接触过一点，这次系统地学习了一下pandas库的用法。</p>
<p>本文介绍了pandas库的：</p>
<ul>
<li><code>Series</code>类、<code>DataFrame</code>类的创建、索引切片、数据的修改</li>
<li>一些实用的统计数学分析函数</li>
<li>从数据文件（csv/excel）的读取<code>DataFrame</code></li>
</ul>
<a id="more"></a>
<h1 id="1-Series类"><a href="#1-Series类" class="headerlink" title="1. Series类"></a>1. Series类</h1><ul>
<li><code>Series</code> 是带有<strong>标签</strong>的<strong>一维数组</strong>，可以保存任何数据类型，值以<code>ndarry</code>的类型储存在<code>.values</code>属性中，轴标签统称为索引，储存在<code>.index</code>属性中。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">series = pd.Series(np.random.rand(<span class="number">10</span>))</span><br><span class="line">series.index <span class="comment"># .index查看series索引，类型为rangeindex</span></span><br><span class="line">Out[<span class="number">12</span>]: RangeIndex(start=<span class="number">0</span>, stop=<span class="number">10</span>, step=<span class="number">1</span>)</span><br><span class="line">series.values <span class="comment"># .values查看series值，类型是ndarray</span></span><br><span class="line">Out[<span class="number">13</span>]: </span><br><span class="line">array([<span class="number">0.34158351</span>, <span class="number">0.02482892</span>, <span class="number">0.85666195</span>, <span class="number">0.09709824</span>, <span class="number">0.60192247</span>,</span><br><span class="line">       <span class="number">0.17104612</span>, <span class="number">0.47118241</span>, <span class="number">0.3999639</span> , <span class="number">0.5141411</span> , <span class="number">0.52765365</span>])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>series</code>和<code>dict</code>相比，<code>series</code>更像一个有顺序的字典（<code>dict</code>本身不存在顺序），其索引原理与字典相似（一个用<code>key</code>，一个用<code>index</code>）</li>
</ul>
<h2 id="1-1-创建Series"><a href="#1-1-创建Series" class="headerlink" title="1.1 创建Series"></a>1.1 创建Series</h2><h3 id="1-1-1-由字典创建"><a href="#1-1-1-由字典创建" class="headerlink" title="1.1.1 由字典创建"></a>1.1.1 由字典创建</h3><ul>
<li><code>pd.Series(dict)</code></li>
<li>按照<code>dict</code>里面<code>key</code>的顺序先后储存到<code>series</code>中进去。<ul>
<li>如果有重复的<code>key</code>，以最新的一个为准，只保留一个。</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">'a'</span>:<span class="number">1</span> ,<span class="string">'b'</span>:<span class="number">2</span> , <span class="string">'c'</span>:<span class="number">3</span>, <span class="string">'4'</span>:<span class="number">4</span>, <span class="string">'5'</span>:<span class="number">5</span>&#125;</span><br><span class="line">s = pd.Series(dic)</span><br><span class="line">print(s)</span><br><span class="line">Out[<span class="number">1</span>]:</span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">b    <span class="number">2</span></span><br><span class="line">c    <span class="number">3</span></span><br><span class="line"><span class="number">4</span>    <span class="number">4</span></span><br><span class="line"><span class="number">5</span>    <span class="number">5</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-由数组创建，指定index"><a href="#1-1-2-由数组创建，指定index" class="headerlink" title="1.1.2 由数组创建，指定index"></a>1.1.2 由数组创建，指定index</h3><ul>
<li><code>pd.Series(ndarry,index,dtype)</code><ul>
<li><code>index</code>缺省情况下是从0开始计数，每次加1的<code>RangeIndex</code>对象</li>
<li><code>dtype</code>缺省情况下会根据<code>ndarray</code>的<code>dtype</code>而定</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series(np.random.rand(<span class="number">5</span>),index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>])</span><br><span class="line">Out[<span class="number">24</span>]: </span><br><span class="line">a    <span class="number">0.546425</span></span><br><span class="line">b    <span class="number">0.228828</span></span><br><span class="line">c    <span class="number">0.893367</span></span><br><span class="line">d    <span class="number">0.699732</span></span><br><span class="line">e    <span class="number">0.189591</span></span><br><span class="line">dtype: float64</span><br><span class="line">s.index <span class="comment"># 自己设定的index的类型是Index，而缺省的是RangeIndex</span></span><br><span class="line">Out[<span class="number">25</span>]: Index([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>], dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-给Series取名：name"><a href="#1-1-3-给Series取名：name" class="headerlink" title="1.1.3 给Series取名：name"></a>1.1.3 给Series取名：<code>name</code></h3><ul>
<li><p>默认<code>Series</code>的<code>.name</code>属性是<code>None</code>，我们可以指定<code>.name</code>来给Series命名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s.name</span><br><span class="line">Out[<span class="number">28</span>]: <span class="literal">None</span></span><br><span class="line">s.name = <span class="string">'hhh'</span></span><br><span class="line">s.name</span><br><span class="line">Out[<span class="number">29</span>]: <span class="string">'hhh'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="1-1-4-修改数据类型：astype方法"><a href="#1-1-4-修改数据类型：astype方法" class="headerlink" title="1.1.4 修改数据类型：astype方法"></a>1.1.4 修改数据类型：<code>astype</code>方法</h3><ul>
<li>和<code>numpy</code>类似，调用Series对象的<code>astype</code>方法可以修改<code>values</code>属性内储存的数据的类型。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">s</span><br><span class="line">Out[<span class="number">33</span>]: </span><br><span class="line">Jack     <span class="number">90.0</span></span><br><span class="line">Marry    <span class="number">92.0</span></span><br><span class="line">Tom      <span class="number">89.0</span></span><br><span class="line">Zack     <span class="number">65.0</span></span><br><span class="line">dtype: float64</span><br><span class="line">s.astype(np.float32)</span><br><span class="line">Out[<span class="number">34</span>]: </span><br><span class="line">Jack     <span class="number">90.0</span></span><br><span class="line">Marry    <span class="number">92.0</span></span><br><span class="line">Tom      <span class="number">89.0</span></span><br><span class="line">Zack     <span class="number">65.0</span></span><br><span class="line">dtype: float32</span><br></pre></td></tr></table></figure>
<h1 id="2-DataFrame类"><a href="#2-DataFrame类" class="headerlink" title="2. DataFrame类"></a>2. DataFrame类</h1><ul>
<li>“二维数组”<code>Dataframe</code>：是一个<strong>表格型</strong>的数据结构，包含一组有序的列，其列的值类型可以是数值、字符串、布尔值等。</li>
<li><code>Dataframe</code>中的数据以一个或多个二维块存放，不是列表、字典或一维数组结构。</li>
</ul>
<h2 id="2-1-创建DataFrame"><a href="#2-1-创建DataFrame" class="headerlink" title="2.1 创建DataFrame"></a>2.1 创建DataFrame</h2><h3 id="2-1-1-由数组组成的字典创建"><a href="#2-1-1-由数组组成的字典创建" class="headerlink" title="2.1.1 由数组组成的字典创建"></a>2.1.1 由数组组成的字典创建</h3><ul>
<li><code>pd.DataFrame(dict,columns=None,index=None)</code><ul>
<li>这里的<code>dict</code>里面的<code>key</code>会成为<code>DataFrame</code>的列标签<code>columns</code>。</li>
<li>而<code>dict</code>里的<code>value</code>应该是一个<code>List</code>，里面每一个元素会成为<code>DataFrame</code>里的一行。</li>
<li>行标签在不另外给定的情况下和<code>Series</code>一样是从0开始计数的<code>RangeIndex</code>。</li>
<li>可以通过给定<code>index</code>来设定行标签，给定<code>columns</code>来设定列标签，类型都是<code>List</code>。</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># Dataframe 数据结构</span></span><br><span class="line"><span class="comment"># Dataframe是一个表格型的数据结构，“带有标签的二维数组”。</span></span><br><span class="line"><span class="comment"># Dataframe带有index（行标签）和columns（列标签）</span></span><br><span class="line">data = &#123;<span class="string">'name'</span>:[<span class="string">'Jack'</span>,<span class="string">'Tom'</span>,<span class="string">'Mary'</span>],</span><br><span class="line">        <span class="string">'age'</span>:[<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>],</span><br><span class="line">       <span class="string">'gender'</span>:[<span class="string">'m'</span>,<span class="string">'m'</span>,<span class="string">'w'</span>]&#125;</span><br><span class="line">frame = pd.DataFrame(data)</span><br><span class="line">print(frame)  </span><br><span class="line">Out[<span class="number">1</span>]:</span><br><span class="line">   age gender  name</span><br><span class="line"><span class="number">0</span>   <span class="number">18</span>      m  Jack</span><br><span class="line"><span class="number">1</span>   <span class="number">19</span>      m   Tom</span><br><span class="line"><span class="number">2</span>   <span class="number">20</span>      w  Mary</span><br><span class="line"></span><br><span class="line"><span class="comment"># .index查看行标签</span></span><br><span class="line">print(frame.index,<span class="string">'\n该数据类型为：'</span>,type(frame.index))</span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">RangeIndex(start=<span class="number">0</span>, stop=<span class="number">3</span>, step=<span class="number">1</span>) </span><br><span class="line">该数据类型为： &lt;<span class="class"><span class="keyword">class</span> '<span class="title">pandas</span>.<span class="title">core</span>.<span class="title">indexes</span>.<span class="title">range</span>.<span class="title">RangeIndex</span>'&gt;</span></span><br><span class="line"><span class="class"># .<span class="title">columns</span>查看列标签</span></span><br><span class="line"><span class="class"><span class="title">print</span><span class="params">(frame.columns,<span class="string">'\n该数据类型为：'</span>,type<span class="params">(frame.columns)</span>)</span></span></span><br><span class="line"><span class="class"><span class="title">Out</span>[3]:</span></span><br><span class="line">Index([<span class="string">'age'</span>, <span class="string">'gender'</span>, <span class="string">'name'</span>], dtype=<span class="string">'object'</span>) </span><br><span class="line">该数据类型为： &lt;<span class="class"><span class="keyword">class</span> '<span class="title">pandas</span>.<span class="title">core</span>.<span class="title">indexes</span>.<span class="title">base</span>.<span class="title">Index</span>'&gt;</span></span><br><span class="line"><span class="class"># .<span class="title">values</span>查看值，数据类型为<span class="title">ndarray</span></span></span><br><span class="line"><span class="class"><span class="title">print</span><span class="params">(frame.values,<span class="string">'\n该数据类型为：'</span>,type<span class="params">(frame.values)</span>)</span></span></span><br><span class="line"><span class="class"><span class="title">Out</span>[4]:</span></span><br><span class="line">[[<span class="number">18</span> <span class="string">'m'</span> <span class="string">'Jack'</span>]</span><br><span class="line"> [<span class="number">19</span> <span class="string">'m'</span> <span class="string">'Tom'</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="string">'w'</span> <span class="string">'Mary'</span>]] </span><br><span class="line">该数据类型为： &lt;<span class="class"><span class="keyword">class</span> '<span class="title">numpy</span>.<span class="title">ndarray</span>'&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-由Series组成的字典创建"><a href="#2-1-2-由Series组成的字典创建" class="headerlink" title="2.1.2 由Series组成的字典创建"></a>2.1.2 由Series组成的字典创建</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data1 = &#123;<span class="string">'one'</span>:pd.Series(np.random.rand(<span class="number">2</span>)),</span><br><span class="line">        <span class="string">'two'</span>:pd.Series(np.random.rand(<span class="number">3</span>))&#125;  <span class="comment"># 没有设置index的Series</span></span><br><span class="line">data2 = &#123;<span class="string">'one'</span>:pd.Series(np.random.rand(<span class="number">2</span>), index = [<span class="string">'a'</span>,<span class="string">'b'</span>]),</span><br><span class="line">        <span class="string">'two'</span>:pd.Series(np.random.rand(<span class="number">3</span>),index = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>])&#125;  <span class="comment"># 设置了index的Series</span></span><br><span class="line">print(data1)</span><br><span class="line">print(data2)</span><br><span class="line">df1 = pd.DataFrame(data1)</span><br><span class="line">df2 = pd.DataFrame(data2)</span><br><span class="line">print(df1)</span><br><span class="line">Out[<span class="number">1</span>]:</span><br><span class="line">        one       two</span><br><span class="line"><span class="number">0</span>  <span class="number">0.857739</span>  <span class="number">0.331382</span></span><br><span class="line"><span class="number">1</span>  <span class="number">0.165800</span>  <span class="number">0.508265</span></span><br><span class="line"><span class="number">2</span>       NaN  <span class="number">0.615997</span></span><br><span class="line">print(df2)</span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">        one       two</span><br><span class="line">a  <span class="number">0.920073</span>  <span class="number">0.826446</span></span><br><span class="line">b  <span class="number">0.215178</span>  <span class="number">0.983392</span></span><br><span class="line">c       NaN  <span class="number">0.187749</span></span><br><span class="line"><span class="comment"># 由Seris组成的字典 创建Dataframe，columns为字典key，index为Series的标签（如果Series没有指定标签，则是默认数字标签）</span></span><br><span class="line"><span class="comment"># Series可以长度不一样，生成的Dataframe会出现NaN值</span></span><br></pre></td></tr></table></figure>
<h3 id="2-1-3-通过二维数组直接创建"><a href="#2-1-3-通过二维数组直接创建" class="headerlink" title="2.1.3 通过二维数组直接创建"></a>2.1.3 通过二维数组直接创建</h3><ul>
<li><code>pd.DataFrame(ndarry,index=None,columns=None)</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ar = np.random.rand(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">print(ar)</span><br><span class="line">df1 = pd.DataFrame(ar)</span><br><span class="line">df2 = pd.DataFrame(ar, index = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], columns = [<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>])  </span><br><span class="line"><span class="comment"># index和colunms指定长度与原数组保持一致</span></span><br><span class="line">print(df1)</span><br><span class="line">print(df2)</span><br><span class="line"><span class="comment"># 通过二维数组直接创建Dataframe，得到一样形状的结果数据，如果不指定index和columns，两者均返回默认数字格式</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-索引与切片"><a href="#2-2-索引与切片" class="headerlink" title="2.2 索引与切片"></a>2.2 索引与切片</h2><h3 id="2-2-1-操作列"><a href="#2-2-1-操作列" class="headerlink" title="2.2.1 操作列"></a>2.2.1 操作列</h3><ul>
<li><p>选取列时，直接采用<strong><code>[]</code></strong>选取即可。</p>
</li>
<li><p>将想要的若干列<strong>存成列表</strong>，可以选取多列。</p>
</li>
<li><p><strong>列操作不能切片！</strong></p>
<ul>
<li>```python<br>df = pd.DataFrame(np.random.rand(12).reshape(3,4)*100,<pre><code>               index = [&#39;one&#39;,&#39;two&#39;,&#39;three&#39;],
               columns = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;])
</code></pre>print(df)<br>Out[1]:<pre><code>           a          b          c          d
</code></pre>one    40.964547  80.214002  15.588768  27.072152<br>two    96.932633  23.950108  33.919304  42.768382<br>three  84.256828  80.383776   8.253291  80.077268<h1 id="用下标选取列，选取一列"><a href="#用下标选取列，选取一列" class="headerlink" title="用下标选取列，选取一列"></a>用下标选取列，选取一列</h1>data1 = df[‘a’]<br>print(data1,type(data1))<br>Out[2]:<br>one      40.964547<br>two      96.932633<br>three    84.256828<br>Name: a, dtype: float64<h1 id="将想要的若干列存成列表，可以选取多列"><a href="#将想要的若干列存成列表，可以选取多列" class="headerlink" title="将想要的若干列存成列表，可以选取多列"></a>将想要的若干列存成列表，可以选取多列</h1>data2 = df[[‘a’,’c’]]<br>print(data2,type(data2))<br>Out[3]: <pre><code>           a          c
</code></pre>one    40.964547  15.588768<br>two    96.932633  33.919304<br>three  84.256828   8.253291<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 2.2.2 操作行</span><br><span class="line"></span><br><span class="line">- 选取行时，和列类似，只要把&#96;[]&#96;操作符换成&#96;.loc[]&#96;或者&#96;.iloc[]&#96;就好了。</span><br><span class="line"></span><br><span class="line">  - &#96;loc&#96;和&#96;iloc&#96;两者的区别在于，前者是按照&#96;index&#96;的名字进行索引，而后者是按照&#96;index&#96;的整数排序进行索引</span><br><span class="line">  - 行操作可以使用&#96;:&#96;操作符进行切片操作，但&#96;iloc&#96;切片规则遵循numpy的&#96;[,)&#96;切片；而&#96;loc&#96;则是&#96;[,]&#96;切片。</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;python</span><br><span class="line">    # df.loc[&#39;one&#39;]选择一行</span><br><span class="line">    df.loc[&#39;one&#39;]</span><br><span class="line">    Out[78]: </span><br><span class="line">    a    40.964547</span><br><span class="line">    b    80.214002</span><br><span class="line">    c    15.588768</span><br><span class="line">    d    27.072152</span><br><span class="line">    Name: one, dtype: float64</span><br><span class="line">    # df.loc[[&#39;one&#39;,&#39;two&#39;]] 选取两行       </span><br><span class="line">    df.loc[[&#39;one&#39;,&#39;two&#39;]]</span><br><span class="line">    Out[79]: </span><br><span class="line">                 a          b          c          d</span><br><span class="line">    one  40.964547  80.214002  15.588768  27.072152</span><br><span class="line">    two  96.932633  23.950108  33.919304  42.768382</span><br><span class="line">    #df.iloc[[0,1]]选取首两行</span><br><span class="line">    df.iloc[[0,1]]</span><br><span class="line">    Out[84]: </span><br><span class="line">                 a          b          c          d</span><br><span class="line">    one  40.964547  80.214002  15.588768  27.072152</span><br><span class="line">    two  96.932633  23.950108  33.919304  42.768382</span><br><span class="line">    #loc[&#39;one&#39;:&#39;three&#39;]进行行切片，注意这里能取到&#39;three&#39;！！</span><br><span class="line">    df.loc[&#39;one&#39;:&#39;three&#39;]</span><br><span class="line">    Out[87]: </span><br><span class="line">                   a          b          c          d</span><br><span class="line">    one    40.964547  80.214002  15.588768  27.072152</span><br><span class="line">    two    96.932633  23.950108  33.919304  42.768382</span><br><span class="line">    three  84.256828  80.383776   8.253291  80.077268</span><br><span class="line">    #iloc[:3]进行行切片，注意这里就取不到2对应的&#39;three&#39;行了！</span><br><span class="line">    df.iloc[0:2]</span><br><span class="line">    Out[88]: </span><br><span class="line">                   a          b          c          d</span><br><span class="line">    one    40.964547  80.214002  15.588768  27.072152</span><br><span class="line">    two    96.932633  23.950108  33.919304  42.768382</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="2-2-3-布尔型索引（多用于索引行）"><a href="#2-2-3-布尔型索引（多用于索引行）" class="headerlink" title="2.2.3 布尔型索引（多用于索引行）"></a>2.2.3 布尔型索引（多用于索引行）</h3><p>不妨设我们现在有一个<code>DataFrame</code>表格，对它进行逻辑操作会得到一个布尔型表格：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">df</span><br><span class="line">Out[<span class="number">91</span>]: </span><br><span class="line">               a          b          c          d</span><br><span class="line">one    <span class="number">40.964547</span>  <span class="number">80.214002</span>  <span class="number">15.588768</span>  <span class="number">27.072152</span></span><br><span class="line">two    <span class="number">96.932633</span>  <span class="number">23.950108</span>  <span class="number">33.919304</span>  <span class="number">42.768382</span></span><br><span class="line">three  <span class="number">84.256828</span>  <span class="number">80.383776</span>   <span class="number">8.253291</span>  <span class="number">80.077268</span></span><br><span class="line"></span><br><span class="line">bf = df &gt; <span class="number">50</span></span><br><span class="line">bf</span><br><span class="line">Out[<span class="number">96</span>]: </span><br><span class="line">           a      b      c      d</span><br><span class="line">one    <span class="literal">False</span>   <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line">two     <span class="literal">True</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line">three   <span class="literal">True</span>   <span class="literal">True</span>  <span class="literal">False</span>   <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>还记得之前<code>numpy</code>里面用布尔矩阵切片吗！【传送门】</p>
<p>pandas提供了类似的功能，传入一个布尔类型的<code>DataFrame</code>，就会进行切片，比如把刚才的布尔矩阵<code>bf</code>传进<code>df</code>里去：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df[bf]</span><br><span class="line">Out[97]: </span><br><span class="line">               a          b   c          d</span><br><span class="line">one          NaN  80.214002 NaN        NaN</span><br><span class="line">two    96.932633        NaN NaN        NaN</span><br><span class="line">three  84.256828  80.383776 NaN  80.077268</span><br></pre></td></tr></table></figure>
<h3 id="2-2-4-综合运用"><a href="#2-2-4-综合运用" class="headerlink" title="2.2.4 综合运用"></a>2.2.4 综合运用</h3><ul>
<li>3.2.1和3.2.2我们掌握了行、列的操作，包括索引、多个选取、切片。<ul>
<li>结合3.2.3中的布尔型索引，我们可以对任意一个范围的数据进行条件筛选</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)*<span class="number">100</span>,</span><br><span class="line">                   index = [<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'four'</span>],</span><br><span class="line">                   columns = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(df)</span><br><span class="line">Out[<span class="number">1</span>]:</span><br><span class="line">               a          b          c          d</span><br><span class="line">one    <span class="number">15.608536</span>  <span class="number">58.738843</span>  <span class="number">91.693016</span>  <span class="number">80.593557</span></span><br><span class="line">two    <span class="number">31.470468</span>  <span class="number">56.788715</span>  <span class="number">40.94</span><span class="number">.84701</span>  <span class="number">35.781987</span></span><br><span class="line">three  <span class="number">62.116205</span>  <span class="number">76.325943</span>  <span class="number">89.052832</span>  <span class="number">29.698750</span></span><br><span class="line">four   <span class="number">33.001608</span>  <span class="number">53.901928</span>  <span class="number">28.600140</span>  <span class="number">29.895497</span></span><br><span class="line"></span><br><span class="line">df[<span class="string">'a'</span>].loc[<span class="string">'one'</span>:<span class="string">'three'</span>] <span class="comment"># 选择a列的one到three行</span></span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">one      <span class="number">15.608536</span></span><br><span class="line">two      <span class="number">31.470468</span></span><br><span class="line">three    <span class="number">62.116205</span></span><br><span class="line">Name: a, dtype: float64</span><br><span class="line"></span><br><span class="line">df[[<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>]].iloc[::<span class="number">2</span>]   <span class="comment"># 选择b，c，d列的one，three行</span></span><br><span class="line">Out[<span class="number">3</span>]: </span><br><span class="line">               b          c          d</span><br><span class="line">one    <span class="number">58.738843</span>  <span class="number">91.693016</span>  <span class="number">80.593557</span></span><br><span class="line">three  <span class="number">76.325943</span>  <span class="number">89.052832</span>  <span class="number">29.698750</span></span><br><span class="line"></span><br><span class="line">df.loc[df[<span class="string">'a'</span>] &lt; <span class="number">50</span>].iloc[:<span class="number">2</span>]  <span class="comment"># 选择满足判断索引的前两行数据</span></span><br><span class="line"><span class="comment">#首先是选择行，输出的是对各行是否选择的bool型Series，通过它选择了0、1、3行</span></span><br><span class="line"><span class="comment">#最后还是选择行，选择了小于2的行</span></span><br><span class="line"><span class="comment">#所以最后输出了0，1行</span></span><br><span class="line">Out[<span class="number">4</span>]: </span><br><span class="line">             a          b          c          d</span><br><span class="line">one  <span class="number">15.608536</span>  <span class="number">58.738843</span>  <span class="number">91.693016</span>  <span class="number">80.593557</span></span><br><span class="line">two  <span class="number">31.470468</span>  <span class="number">56.788715</span>  <span class="number">40.984701</span>  <span class="number">35.781987</span></span><br></pre></td></tr></table></figure>
<h1 id="3-基本操作"><a href="#3-基本操作" class="headerlink" title="3. 基本操作"></a>3. 基本操作</h1><h2 id="3-1-数据查看与转置"><a href="#3-1-数据查看与转置" class="headerlink" title="3.1 数据查看与转置"></a>3.1 数据查看与转置</h2><ul>
<li><code>.head(n=5)</code>方法可以查看<code>DataFrame</code>前n行的数据。</li>
<li><code>.tail(n=5)</code>方法可以查看<code>DataFrame</code>末尾n行的数据。</li>
<li><code>.T</code>方法返回的是表格矩阵的转置。</li>
</ul>
<h2 id="3-2-数据的修改、添加与删除"><a href="#3-2-数据的修改、添加与删除" class="headerlink" title="3.2 数据的修改、添加与删除"></a>3.2 数据的修改、添加与删除</h2><ul>
<li><p>直接对索引到的目标进行赋值，就能实现数据的修改。</p>
</li>
<li><p>直接索引一个<strong>没有出现过的</strong>行/列，然后赋值，就能实现新增行/列并赋值的操作。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加与修改</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)*<span class="number">100</span>,</span><br><span class="line">                   columns = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line">df[<span class="string">'e'</span>] = <span class="number">10</span></span><br><span class="line">df.loc[<span class="number">4</span>] = <span class="number">20</span></span><br><span class="line">print(df)<span class="number">4.</span></span><br><span class="line"><span class="comment"># 新增列/行并赋值</span></span><br><span class="line"></span><br><span class="line">df[<span class="string">'e'</span>] = <span class="number">20</span></span><br><span class="line">df[[<span class="string">'a'</span>,<span class="string">'c'</span>]] = <span class="number">100</span></span><br><span class="line">print(df)</span><br><span class="line"><span class="comment"># 索引后直接修改值</span></span><br></pre></td></tr></table></figure>
<ul>
<li>用python关键字<code>del</code>或者<code>drop</code>方法，可以删除行、列，任意位置的值。</li>
<li>其中<code>del</code>是直接对原来的对象进行删除操作，只能删除列，不能删除行。</li>
<li><code>drop()</code>方法(当<code>inplace=False</code>时)是生成一个原来对象的副本，对该副本进行删除操作后返回给函数。4.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除  del / drop()</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)*<span class="number">100</span>,</span><br><span class="line">                   columns = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> df[<span class="string">'a'</span>]</span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># del语句 - 删除列</span></span><br><span class="line"><span class="number">4.</span></span><br><span class="line">print(df.drop(<span class="number">0</span>))</span><br><span class="line">print(df.drop([<span class="number">1</span>,<span class="number">2</span>]))</span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># drop()删除行，inplace=False → 删除后生成新的数据，不改变原数据</span></span><br><span class="line"></span><br><span class="line">print(df.drop([<span class="string">'d'</span>], axis = <span class="number">1</span>))</span><br><span class="line">print(df)</span><br><span class="line"><span class="comment"># drop()删除列，需要加上axis = 1，inplace=False → 删除后生成新的数据，不改变原数据</span></span><br></pre></td></tr></table></figure>
<h2 id="3-3-排序"><a href="#3-3-排序" class="headerlink" title="3.3 排序"></a>3.3 排序</h2><h3 id="3-3-1-按值排序"><a href="#3-3-1-按值排序" class="headerlink" title="3.3.1 按值排序"></a>3.3.1 按值排序</h3><ul>
<li><code>.sort_values([&#39;column&#39;], ascending=True，inplace=False)</code>按照设定的轴，进行升序或降序排列，默认升序。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 排序1 - 按值排序 .sort_values</span></span><br><span class="line"><span class="comment"># 同样适用于Series</span></span><br><span class="line"></span><br><span class="line">df1 = pd.DataFrame(np.random.rand(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)*<span class="number">100</span>,</span><br><span class="line">                   columns = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(df1)</span><br><span class="line">print(df1.sort_values([<span class="string">'a'</span>], ascending = <span class="literal">True</span>))  <span class="comment"># 升序</span></span><br><span class="line">print(df1.sort_values([<span class="string">'a'</span>], ascending = <span class="literal">False</span>))  <span class="comment"># 降序</span></span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="comment"># ascending参数：设置升序降序，默4.认升序</span></span><br><span class="line"><span class="comment"># 单列排序</span></span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'a'</span>:[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],</span><br><span class="line">                  <span class="string">'b'</span>:list(range(<span class="number">8</span>)),</span><br><span class="line">                  <span class="string">'c'</span>:list(range(<span class="number">8</span>,<span class="number">0</span>,<span class="number">-1</span>))&#125;)</span><br><span class="line">print(df2)</span><br><span class="line">print(df2.sort_values([<span class="string">'a'</span>,<span class="string">'c'</span>]))</span><br><span class="line"><span class="comment"># 多列排序，按列顺序排序,优先排序'a',然后排序'c'</span></span><br><span class="line"><span class="comment"># 注意inplace参数</span></span><br></pre></td></tr></table></figure>
<h3 id="3-3-2-按索引排序"><a href="#3-3-2-按索引排序" class="headerlink" title="3.3.2 按索引排序"></a>3.3.2 按索引排序</h3><ul>
<li><code>.sort_index()</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 排序2 - 索引排序 .sort_index</span></span><br><span class="line"></span><br><span class="line">df1 = pd.DataFrame(np.random.rand(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)*<span class="number">100</span>,</span><br><span class="line">                  index = [<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>],</span><br><span class="line">                   columns = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">df2 = pd.DataFrame(np.random.rand(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)*<span class="number">100</span>,</span><br><span class="line">                  index = [<span class="string">'h'</span>,<span class="string">'s'</span>,<span class="string">'x'</span>,<span class="string">'g'</span>],</span><br><span class="line">                   columns = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(df1)</span><br><span class="line">print(df1.sort_index())</span><br><span class="line">print(df2)</span><br><span class="line">print(df2.sort_index())</span><br><span class="line"><span class="comment"># 按照index排序</span></span><br><span class="line"><span class="comment"># 默认 ascending=True, inplace=False</span></span><br></pre></td></tr></table></figure>
<h1 id="4-统计分析函数"><a href="#4-统计分析函数" class="headerlink" title="4. 统计分析函数"></a>4. 统计分析函数</h1><h2 id="4-1-axis和skipna属性，以mean方法为例"><a href="#4-1-axis和skipna属性，以mean方法为例" class="headerlink" title="4.1 axis和skipna属性，以mean方法为例"></a>4.1 <code>axis</code>和<code>skipna</code>属性，以mean方法为例</h2><ul>
<li><code>.mean(axis=0,skipna=True)</code>默认计算<strong>每列</strong>的平均数<ul>
<li>修改axis=1即为计算<strong>每行</strong>的平均数</li>
<li><code>skipna</code>判断是否管<code>np.nan</code>，默认是不管，如果设置为<code>True</code>则该项平均值为<code>NAN</code></li>
</ul>
</li>
</ul>
<h2 id="4-2-主要数学计算方法"><a href="#4-2-主要数学计算方法" class="headerlink" title="4.2 主要数学计算方法"></a>4.2 主要数学计算方法</h2><ul>
<li><p><code>.count()</code>方法，统计非Na值的数量</p>
</li>
<li><p><code>.min()</code>方法，统计最小值，<code>.max</code>方法，统计最大值</p>
</li>
<li><p><code>.quantile(q=0.5)</code>方法，分位数方法，统计从小到大排列后排百分之（100*q）的那个数，默认<code>q=0.5</code>，刚好是中位数</p>
<ul>
<li><p>首先确定p分位数的位置（有两种方法），pandas用的是后者：</p>
<blockquote>
<p>方法1 <code>pos = (n+1)*p</code><br>方法2 <code>pos = 1+(n-1)*p</code></p>
</blockquote>
</li>
</ul>
</li>
<li><p><code>.sum</code>方法，默认对每一列求和，可以修改axis</p>
</li>
<li><p><code>.mean</code>方法，求平均数</p>
</li>
<li><p><code>.median</code>方法，求中位数</p>
</li>
<li><p><code>.std</code>方法，计算标准差，<code>.var</code>方法，计算方差</p>
</li>
<li><p><code>.skew</code>方法，计算样本的偏度</p>
<ul>
<li>偏度（skewness），是统计数据分布偏斜方向和程度的度量，是统计数据分布非对称程度的数字特征。</li>
<li>偏态量度对称性。0说明是最完美的对称性，正态分布的偏态就是0。如图2所示，右偏态为正，表明平均值大于中位数。反之为左偏态，为负。</li>
<li>定义上偏度是样本的三阶标准化矩： <ul>
<li><img src="/2019/10/31/dl-03/01.png" alt="01"></li>
</ul>
</li>
</ul>
</li>
<li><p><code>.kurt</code>方法，计算样本的峰度</p>
<ul>
<li>在统计学中，<strong>峰度</strong>（Kurtosis）衡量实数随机变量概率分布的峰态。峰度高就意味着方差增大是由低频度的大于或小于平均值的极端差值引起的。正态分布的峰度值为3。<ul>
<li><img src="/2019/10/31/dl-03/02.png" alt="02"></li>
</ul>
</li>
</ul>
</li>
<li><p><code>.cumsum</code>方法，计算样本值的累计和</p>
<ul>
<li>```python<br>df<br>Out[54]: <pre><code>       a          b          c
</code></pre>0  59.807953   0.924786  61.798652<br>1  63.202001  63.003736  20.434608<br>2  87.838170  22.227844  49.299075<br>df.cumsum()<br>Out[55]: <pre><code>        a          b           c
</code></pre>0   59.807953   0.924786   61.798652<br>1  123.009954  63.928522   82.233260<br>2  210.848123  86.156366  131.532335<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- &#96;.cumprod&#96;方法，计算样本值的累计积</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;python</span><br><span class="line">    df</span><br><span class="line">    Out[56]: </span><br><span class="line">               a          b          c</span><br><span class="line">    0  59.807953   0.924786  61.798652</span><br><span class="line">    1  63.202001  63.003736  20.434608</span><br><span class="line">    2  87.838170  22.227844  49.299075</span><br><span class="line">    df.cumprod()</span><br><span class="line">    Out[57]: </span><br><span class="line">                   a            b             c</span><br><span class="line">    0      59.807953     0.924786     61.798652</span><br><span class="line">    1    3779.982279    58.264977   1262.831219</span><br><span class="line">    2  332026.725118  1295.104785  62256.411349</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>.cummax</code>方法，从上往下找累计的最大值；<code>.cummin</code>方法，从上往下找累计的最小值</p>
<ul>
<li>```python<br>df<br>Out[59]: <pre><code>       a          b          c
</code></pre>0  59.807953   0.924786  61.798652<br>1  63.202001  63.003736  20.434608<br>2  87.838170  22.227844  49.299075<br>df.cummax()<br>Out[60]: <pre><code>       a          b          c
</code></pre>0  59.807953   0.924786  61.798652<br>1  63.202001  63.003736  61.798652<br>2  87.838170  63.003736  61.798652<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- &#96;.unique&#96;方法，只用于&#96;Series&#96;，返回一个，去掉其中重复的的元素，由唯一值组成的数</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;python</span><br><span class="line">    s &#x3D; pd.Series(list(&quot;aabbcc&quot;))</span><br><span class="line">    s.unique()</span><br><span class="line">    Out[71]: array([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], dtype&#x3D;object)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>.value_counts</code>方法，只用于<code>Series</code>，返回一个新的<code>Series</code>，计算原序列中各个值出现的次数</p>
<ul>
<li><p>```python</p>
<h1 id="值计数：-value-counts"><a href="#值计数：-value-counts" class="headerlink" title="值计数：.value_counts()"></a>值计数：.value_counts()</h1><p>sc = s.value_counts(sort = False) </p>
<h1 id="也可以这样写：pd-value-counts-sc-sort-False"><a href="#也可以这样写：pd-value-counts-sc-sort-False" class="headerlink" title="也可以这样写：pd.value_counts(sc, sort = False)"></a>也可以这样写：pd.value_counts(sc, sort = False)</h1><p>print(sc)</p>
<h1 id="得到一个新的Series，计算出不同值出现的频率"><a href="#得到一个新的Series，计算出不同值出现的频率" class="headerlink" title="得到一个新的Series，计算出不同值出现的频率"></a>得到一个新的Series，计算出不同值出现的频率</h1><h1 id="sort参数：排序，默认为True"><a href="#sort参数：排序，默认为True" class="headerlink" title="sort参数：排序，默认为True"></a>sort参数：排序，默认为True</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- &#96;.isin(list)&#96;方法，判断一个&#96;Series&#96;的东西在不在&#96;list&#96;里，返回一个布尔型&#96;Series&#96;。</span><br><span class="line"></span><br><span class="line">  -</span><br></pre></td></tr></table></figure>
<h1 id="成员资格：-isin"><a href="#成员资格：-isin" class="headerlink" title="成员资格：.isin()"></a>成员资格：.isin()</h1><p>s = pd.Series(np.arange(10,15))<br>df = pd.DataFrame({‘key1’:list(‘asdcbvasd’),</p>
<pre><code>              &#39;key2&#39;:np.arange(4,13)})
</code></pre><p>print(s)<br>print(df)<br>print(‘——-‘)</p>
<p>print(s.isin([5,14]))<br>print(df.isin([‘a’,’bc’,’10’,8]))</p>
<h1 id="用-表示"><a href="#用-表示" class="headerlink" title="用[]表示"></a>用[]表示</h1><h1 id="得到一个布尔值的Series或者Dataframe"><a href="#得到一个布尔值的Series或者Dataframe" class="headerlink" title="得到一个布尔值的Series或者Dataframe"></a>得到一个布尔值的Series或者Dataframe</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Output[1]:<br>0    10<br>1    11<br>2    12<br>3    13<br>4    14<br>dtype: int32<br>  key1  key2<br>0    a     4<br>1    s     5<br>2    d     6<br>3    c     7<br>4    b     8<br>5    v     9<br>6    a    10<br>7    s    11</p>
<h2 id="8-d-12"><a href="#8-d-12" class="headerlink" title="8    d    12"></a>8    d    12</h2><p>0    False<br>1    False<br>2    False<br>3    False<br>4     True<br>dtype: bool</p>
<pre><code>key1   key2
</code></pre><p>0   True  False<br>1  False  False<br>2  False  False<br>3  False  False<br>4  False   True<br>5  False  False<br>6   True  False<br>7  False  False<br>8  False  False</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"># 5. 字符串处理</span><br><span class="line"></span><br><span class="line">通过对&#96;Series&#96;和&#96;DataFrame&#96;的对象取&#96;.str&#96;属性，可以对该属性调用python中字符串的常用处理方法。</span><br><span class="line"></span><br><span class="line">- &#96;.str&#96;本身返回的只是一个object&#96;&lt;pandas.core.strings.StringMethods object at 0x00000267AE3EA978&#96;，单独调用没有任何意义。日常使用都是类似&#96;.str.upper()&#96;。</span><br><span class="line">- &#96;lower&#96;,  &#96;upper&#96;,   &#96;len&#96;,   &#96;startswith&#96;,   &#96;endswith&#96;方法</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;python</span><br><span class="line"># 字符串常用方法（1） - lower，upper，len，startswith，endswith</span><br><span class="line"></span><br><span class="line">s &#x3D; pd.Series([&#39;A&#39;,&#39;b&#39;,&#39;bbhello&#39;,&#39;123&#39;,np.nan])</span><br><span class="line"></span><br><span class="line">print(s.str.lower(),&#39;→ lower小写\n&#39;)</span><br><span class="line">print(s.str.upper(),&#39;→ upper大写\n&#39;)</span><br><span class="line">print(s.str.len(),&#39;→ len字符长度\n&#39;)</span><br><span class="line">print(s.str.startswith(&#39;b&#39;),&#39;→ 判断起始是否为a\n&#39;)</span><br><span class="line">print(s.str.endswith(&#39;3&#39;),&#39;→ 判断结束是否为3\n&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>strip()</code>方法去掉左右空格，可以去掉指定的字符</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串常用方法（2） - strip</span></span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="string">' jack'</span>, <span class="string">'jill '</span>, <span class="string">' jesse '</span>, <span class="string">'frank'</span>])</span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">3</span>, <span class="number">2</span>), columns=[<span class="string">' Column A '</span>, <span class="string">' Column B '</span>],</span><br><span class="line">                  index=range(<span class="number">3</span>))</span><br><span class="line">print(s)</span><br><span class="line">print(df)</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"></span><br><span class="line">print(s.str.strip())  <span class="comment"># 去除字符串中的左右空格</span></span><br><span class="line">print(s.str.lstrip())  <span class="comment"># 去除字符串中的左空格</span></span><br><span class="line">print(s.str.rstrip())  <span class="comment"># 去除字符串中的右空格</span></span><br><span class="line"></span><br><span class="line">df.columns = df.columns.str.strip()</span><br><span class="line">print(df)</span><br><span class="line"><span class="comment"># 这里去掉了columns的前后空格，但没有去掉中间空格</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>replace</code>方法把字符串中的各个子串换成指定内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 字符串常用方法（3） - replace</span><br><span class="line"></span><br><span class="line">df &#x3D; pd.DataFrame(np.random.randn(3, 2), columns&#x3D;[&#39; Column A &#39;, &#39; Column B &#39;],</span><br><span class="line">                  index&#x3D;range(3))</span><br><span class="line">df.columns &#x3D; df.columns.str.replace(&#39; &#39;,&#39;-&#39;)</span><br><span class="line">print(df)</span><br><span class="line"># 替换</span><br><span class="line"></span><br><span class="line">df.columns &#x3D; df.columns.str.replace(&#39;-&#39;,&#39;hehe&#39;,n&#x3D;1)</span><br><span class="line">print(df)</span><br><span class="line"># n：替换个数</span><br></pre></td></tr></table></figure>
<ul>
<li><code>split</code>方法把字符串以某个字符为边界拆分成List</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串常用方法（4） - split、rsplit</span></span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="string">'a,b,c'</span>,<span class="string">'1,2,3'</span>,[<span class="string">'a,,,c'</span>],np.nan])</span><br><span class="line">print(s.str.split(<span class="string">','</span>))</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># 类似字符串的split</span></span><br><span class="line"></span><br><span class="line">print(s.str.split(<span class="string">','</span>)[<span class="number">0</span>])</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># 直接索引得到一个list</span></span><br><span class="line"></span><br><span class="line">print(s.str.split(<span class="string">','</span>).str[<span class="number">0</span>])</span><br><span class="line">print(s.str.split(<span class="string">','</span>).str.get(<span class="number">1</span>))</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># 可以使用get或[]符号访问拆分列表中的元素</span></span><br><span class="line"></span><br><span class="line">print(s.str.split(<span class="string">','</span>, expand=<span class="literal">True</span>))</span><br><span class="line">print(s.str.split(<span class="string">','</span>, expand=<span class="literal">True</span>, n = <span class="number">1</span>))</span><br><span class="line">print(s.str.rsplit(<span class="string">','</span>, expand=<span class="literal">True</span>, n = <span class="number">1</span>))</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># 可以使用expand可以轻松扩展此操作以返回DataFrame</span></span><br><span class="line"><span class="comment"># n参数限制分割数</span></span><br><span class="line"><span class="comment"># rsplit类似于split，反向工作，即从字符串的末尾到字符串的开头</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">'key1'</span>:[<span class="string">'a,b,c'</span>,<span class="string">'1,2,3'</span>,[<span class="string">':,., '</span>]],</span><br><span class="line">                  <span class="string">'key2'</span>:[<span class="string">'a-b-c'</span>,<span class="string">'1-2-3'</span>,[<span class="string">':-.- '</span>]]&#125;)</span><br><span class="line">print(df[<span class="string">'key2'</span>].str.split(<span class="string">'-'</span>))</span><br><span class="line"><span class="comment"># Dataframe使用split</span></span><br></pre></td></tr></table></figure>
<h1 id="6-合并、连接、去重、替换"><a href="#6-合并、连接、去重、替换" class="headerlink" title="6. 合并、连接、去重、替换"></a>6. 合并、连接、去重、替换</h1><h2 id="6-1-合并DataFrame：merge函数"><a href="#6-1-合并DataFrame：merge函数" class="headerlink" title="6.1 合并DataFrame：merge函数"></a>6.1 合并DataFrame：merge函数</h2><ul>
<li><code>merge(left,right,on=None,how=&#39;inner&#39;)</code><ul>
<li><code>left</code>,<code>right</code> 指合并时左右的<code>df</code></li>
<li><code>on</code>是一个二者共有的键，用作在中间粘合</li>
<li><code>how</code>有<code>inner</code>,<code>outer</code>,<code>left</code>,<code>right</code>四种，默认是inner取交集，outer是并集，left指以左侧为参照</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># merge合并 → 类似excel的vlookup</span></span><br><span class="line"></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>, <span class="string">'K3'</span>],</span><br><span class="line">                     <span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],</span><br><span class="line">                     <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>, <span class="string">'K3'</span>],</span><br><span class="line">                      <span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>, <span class="string">'C2'</span>, <span class="string">'C3'</span>],</span><br><span class="line">                      <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>, <span class="string">'D2'</span>, <span class="string">'D3'</span>]&#125;)</span><br><span class="line">df3 = pd.DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>],</span><br><span class="line">                    <span class="string">'key2'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K0'</span>, <span class="string">'K1'</span>],</span><br><span class="line">                    <span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],</span><br><span class="line">                    <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br><span class="line">df4 = pd.DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>],</span><br><span class="line">                    <span class="string">'key2'</span>: [<span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K0'</span>],</span><br><span class="line">                    <span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>, <span class="string">'C2'</span>, <span class="string">'C3'</span>],</span><br><span class="line">                    <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>, <span class="string">'D2'</span>, <span class="string">'D3'</span>]&#125;)</span><br><span class="line">print(pd.merge(df1, df2, on=<span class="string">'key'</span>))</span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="comment"># left：第一个df</span></span><br><span class="line"><span class="comment"># right：第二个df</span></span><br><span class="line"><span class="comment"># on：参考键</span></span><br><span class="line"></span><br><span class="line">print(pd.merge(df3, df4, on=[<span class="string">'key1'</span>,<span class="string">'key2'</span>]))</span><br><span class="line"><span class="comment"># 多个链接键</span></span><br><span class="line">--------------------------------------</span><br><span class="line">Output[<span class="number">1</span>]:</span><br><span class="line">    A   B key   C   D</span><br><span class="line"><span class="number">0</span>  A0  B0  K0  C0  D0</span><br><span class="line"><span class="number">1</span>  A1  B1  K1  C1  D1</span><br><span class="line"><span class="number">2</span>  A2  B2  K2  C2  D2</span><br><span class="line"><span class="number">3</span>  A3  B3  K3  C3  D3</span><br><span class="line">------</span><br><span class="line">    A   B key1 key2   C   D</span><br><span class="line"><span class="number">0</span>  A0  B0   K0   K0  C0  D0</span><br><span class="line"><span class="number">1</span>  A2  B2   K1   K0  C1  D1</span><br><span class="line"><span class="number">2</span>  A2  B2   K1   K0  C2  D2</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 参数how → 合并方式</span></span><br><span class="line"></span><br><span class="line">print(pd.merge(df3, df4,on=[<span class="string">'key1'</span>,<span class="string">'key2'</span>], how = <span class="string">'inner'</span>))  </span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="comment"># inner：默认，取交集</span></span><br><span class="line"></span><br><span class="line">print(pd.merge(df3, df4, on=[<span class="string">'key1'</span>,<span class="string">'key2'</span>], how = <span class="string">'outer'</span>))  </span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="comment"># outer：取并集，数据缺失范围NaN</span></span><br><span class="line"></span><br><span class="line">print(pd.merge(df3, df4, on=[<span class="string">'key1'</span>,<span class="string">'key2'</span>], how = <span class="string">'left'</span>))  </span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="comment"># left：按照df3为参考合并，数据缺失范围NaN</span></span><br><span class="line"></span><br><span class="line">print(pd.merge(df3, df4, on=[<span class="string">'key1'</span>,<span class="string">'key2'</span>], how = <span class="string">'right'</span>))  </span><br><span class="line"><span class="comment"># right：按照df4为参考合并，数据缺失范围NaN</span></span><br></pre></td></tr></table></figure>
<h2 id="6-2-连接"><a href="#6-2-连接" class="headerlink" title="6.2 连接"></a>6.2 连接</h2><ul>
<li><code>concat([s1,s2])</code>将两个Series连接起来。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 连接：concat</span><br><span class="line"></span><br><span class="line">s1 &#x3D; pd.Series([1,2,3])</span><br><span class="line">s2 &#x3D; pd.Series([2,3,4])</span><br><span class="line">print(pd.concat([s1,s2]))</span><br><span class="line">print(&#39;-----&#39;)</span><br><span class="line"># 默认axis&#x3D;0，行+行</span><br><span class="line"></span><br><span class="line">s3 &#x3D; pd.Series([1,2,3],index &#x3D; [&#39;a&#39;,&#39;c&#39;,&#39;h&#39;])</span><br><span class="line">s4 &#x3D; pd.Series([2,3,4],index &#x3D; [&#39;b&#39;,&#39;e&#39;,&#39;d&#39;])</span><br><span class="line">print(pd.concat([s3,s4]).sort_index())</span><br><span class="line">print(pd.concat([s3,s4], axis&#x3D;1))</span><br><span class="line">print(&#39;-----&#39;)</span><br><span class="line"># axis&#x3D;1,列+列，成为一个Dataframe</span><br></pre></td></tr></table></figure>
<h2 id="6-3-去重"><a href="#6-3-去重" class="headerlink" title="6.3 去重"></a>6.3 去重</h2><ul>
<li><code>.depulicated()</code>返回一个布尔型矩阵，里面不重复的元素的位置值为False</li>
<li><code>.drop_depulicated()方法</code>，把重复的元素删掉，返回一个不重复的元素组成的DF</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 去重 .duplicated</span></span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>])</span><br><span class="line">print(s.duplicated())</span><br><span class="line">print(s[s.duplicated() == <span class="literal">False</span>])</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># 判断是否重复</span></span><br><span class="line"><span class="comment"># 通过布尔判断，得到不重复的值</span></span><br><span class="line"></span><br><span class="line">s_re = s.drop_duplicates()</span><br><span class="line">print(s_re)</span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="comment"># drop_duplicates移除重复</span></span><br><span class="line"><span class="comment"># inplace参数：是否替换原值，默认False</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">'key1'</span>:[<span class="string">'a'</span>,<span class="string">'a'</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],</span><br><span class="line">                  <span class="string">'key2'</span>:[<span class="string">'a'</span>,<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]&#125;)</span><br><span class="line">print(df.duplicated())</span><br><span class="line">print(df[<span class="string">'key2'</span>].duplicated())</span><br><span class="line"><span class="comment"># Dataframe中使用duplicated</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">0     False</span><br><span class="line">1      True</span><br><span class="line">2      True</span><br><span class="line">3      True</span><br><span class="line">4     False</span><br><span class="line">5      True</span><br><span class="line">6      True</span><br><span class="line">7     False</span><br><span class="line">8     False</span><br><span class="line">9     False</span><br><span class="line">10     True</span><br><span class="line">11     True</span><br><span class="line">12     True</span><br><span class="line">dtype: bool</span><br><span class="line">0    1</span><br><span class="line">4    2</span><br><span class="line">7    3</span><br><span class="line">8    4</span><br><span class="line">9    5</span><br><span class="line">dtype: int64</span><br><span class="line">-----</span><br><span class="line">0    1</span><br><span class="line">4    2</span><br><span class="line">7    3</span><br><span class="line">8    4</span><br><span class="line">9    5</span><br><span class="line">dtype: int64</span><br><span class="line">-----</span><br><span class="line">0    False</span><br><span class="line">1     True</span><br><span class="line">2    False</span><br><span class="line">3    False</span><br><span class="line">4    False</span><br><span class="line">dtype: bool</span><br><span class="line">0    False</span><br><span class="line">1     True</span><br><span class="line">2    False</span><br><span class="line">3     True</span><br><span class="line">4    False</span><br><span class="line">Name: key2, dtype: bool</span><br></pre></td></tr></table></figure>
<h2 id="6-4-替换"><a href="#6-4-替换" class="headerlink" title="6.4 替换"></a>6.4 替换</h2><ul>
<li><code>.replace(a,b)</code>方法把Series中等于a的元素替换成b</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 替换 .replace</span></span><br><span class="line"></span><br><span class="line">s = pd.Series(list(<span class="string">'ascaazsd'</span>))</span><br><span class="line">print(s.replace(<span class="string">'a'</span>, np.nan))</span><br><span class="line">print(s.replace([<span class="string">'a'</span>,<span class="string">'s'</span>] ,np.nan))</span><br><span class="line">print(s.replace(&#123;<span class="string">'a'</span>:<span class="string">'hello world!'</span>,<span class="string">'s'</span>:<span class="number">123</span>&#125;))</span><br><span class="line"><span class="comment"># 可一次性替换一个值或多个值</span></span><br><span class="line"><span class="comment"># 可传入列表或字典</span></span><br></pre></td></tr></table></figure>
<h1 id="7-数据读取"><a href="#7-数据读取" class="headerlink" title="7. 数据读取"></a>7. 数据读取</h1><h2 id="7-1-read-csv"><a href="#7-1-read-csv" class="headerlink" title="7.1 read_csv"></a>7.1 read_csv</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取csv数据：read_csv</span></span><br><span class="line"><span class="comment"># 先熟悉一下excel怎么导出csv</span></span><br><span class="line"></span><br><span class="line">data2 = pd.read_csv(<span class="string">'data2.csv'</span>,encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">print(data2.head())</span><br><span class="line"><span class="comment"># encoding：指定字符集类型，即编码，通常指定为'utf-8'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 大多数情况先将excel导出csv，再读取</span></span><br></pre></td></tr></table></figure>
<h2 id="7-2-read-excel"><a href="#7-2-read-excel" class="headerlink" title="7.2 read_excel"></a>7.2 read_excel</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取excel数据：read_excel</span></span><br><span class="line"></span><br><span class="line">data3 = pd.read_excel(<span class="string">'地市级党委书记数据库（2000-10）.xlsx'</span>,sheet_name=<span class="string">'中国人民共和国地市级党委书记数据库（2000-10）'</span>,header=<span class="number">0</span>)</span><br><span class="line">print(data3.head())</span><br><span class="line"><span class="comment"># io ：文件路径。</span></span><br><span class="line"><span class="comment"># sheetname：返回多表使用sheetname=[0,1],若sheetname=None是返回全表 → ① int/string 返回的是dataframe ②而none和list返回的是dict</span></span><br><span class="line"><span class="comment"># header：指定列名行，默认0，即取第一行</span></span><br><span class="line"><span class="comment"># index_col：指定列为索引列，也可以使用u”strings”</span></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"># Python</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/10/29/dl-02/" rel="prev" title="Numpy库拾遗">
      <i class="fa fa-chevron-left"></i> Numpy库拾遗
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/11/01/dl-04/" rel="next" title="多相机行人跟踪[01]-用TensorRT加速YOLO(1)">
      多相机行人跟踪[01]-用TensorRT加速YOLO(1) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#0-摘要"><span class="nav-text">0. 摘要</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Series类"><span class="nav-text">1. Series类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-创建Series"><span class="nav-text">1.1 创建Series</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-由字典创建"><span class="nav-text">1.1.1 由字典创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-由数组创建，指定index"><span class="nav-text">1.1.2 由数组创建，指定index</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-给Series取名：name"><span class="nav-text">1.1.3 给Series取名：name</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-4-修改数据类型：astype方法"><span class="nav-text">1.1.4 修改数据类型：astype方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-DataFrame类"><span class="nav-text">2. DataFrame类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-创建DataFrame"><span class="nav-text">2.1 创建DataFrame</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-由数组组成的字典创建"><span class="nav-text">2.1.1 由数组组成的字典创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-由Series组成的字典创建"><span class="nav-text">2.1.2 由Series组成的字典创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-3-通过二维数组直接创建"><span class="nav-text">2.1.3 通过二维数组直接创建</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-索引与切片"><span class="nav-text">2.2 索引与切片</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-操作列"><span class="nav-text">2.2.1 操作列</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用下标选取列，选取一列"><span class="nav-text">用下标选取列，选取一列</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#将想要的若干列存成列表，可以选取多列"><span class="nav-text">将想要的若干列存成列表，可以选取多列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-布尔型索引（多用于索引行）"><span class="nav-text">2.2.3 布尔型索引（多用于索引行）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-4-综合运用"><span class="nav-text">2.2.4 综合运用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-基本操作"><span class="nav-text">3. 基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-数据查看与转置"><span class="nav-text">3.1 数据查看与转置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-数据的修改、添加与删除"><span class="nav-text">3.2 数据的修改、添加与删除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-排序"><span class="nav-text">3.3 排序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-按值排序"><span class="nav-text">3.3.1 按值排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-按索引排序"><span class="nav-text">3.3.2 按索引排序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-统计分析函数"><span class="nav-text">4. 统计分析函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-axis和skipna属性，以mean方法为例"><span class="nav-text">4.1 axis和skipna属性，以mean方法为例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-主要数学计算方法"><span class="nav-text">4.2 主要数学计算方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#值计数：-value-counts"><span class="nav-text">值计数：.value_counts()</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#也可以这样写：pd-value-counts-sc-sort-False"><span class="nav-text">也可以这样写：pd.value_counts(sc, sort &#x3D; False)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#得到一个新的Series，计算出不同值出现的频率"><span class="nav-text">得到一个新的Series，计算出不同值出现的频率</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sort参数：排序，默认为True"><span class="nav-text">sort参数：排序，默认为True</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#成员资格：-isin"><span class="nav-text">成员资格：.isin()</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用-表示"><span class="nav-text">用[]表示</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#得到一个布尔值的Series或者Dataframe"><span class="nav-text">得到一个布尔值的Series或者Dataframe</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-d-12"><span class="nav-text">8    d    12</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-合并、连接、去重、替换"><span class="nav-text">6. 合并、连接、去重、替换</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-合并DataFrame：merge函数"><span class="nav-text">6.1 合并DataFrame：merge函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-连接"><span class="nav-text">6.2 连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-去重"><span class="nav-text">6.3 去重</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-替换"><span class="nav-text">6.4 替换</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-数据读取"><span class="nav-text">7. 数据读取</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-read-csv"><span class="nav-text">7.1 read_csv</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-read-excel"><span class="nav-text">7.2 read_excel</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Zhenhui Ye"
      src="/images/face.jpg">
  <p class="site-author-name" itemprop="name">Zhenhui Ye</p>
  <div class="site-description" itemprop="description">Be a superhero.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yerfor" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yerfor" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhenhuiye@zju.edu.com" title="E-Mail → mailto:zhenhuiye@zju.edu.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhenhui Ye</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.1
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

</body>
</html>
